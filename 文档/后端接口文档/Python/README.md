

**简要描述：**


- 用户注册接口


**请求URL：**

- ` 106.14.197.175:8080/regist`


**请求方式：**

- POST
- form-data


**参数：**


| 参数名 | 说明 | 例子 | 类型 |
| :-- | :-- | :-- | :-- |
| user | 用户名（微信id） | xiaoming | string |
| psw | 密码（目前和用户名一样） | xiaoming | string |
| heading | 头像地址 | heading.com | string |
| nickname | 昵称  | 小鸣 | string |


 **返回示例**


```
 {
     "value" :  1
 }
```


 **返回参数说明**

- 1：注册成功
- -1：密码错误
- -101：数据库连接失败
- -102：注册异常（重复注册）
- -103：插入失败


**简要描述：**


- 用户登录接口


**请求URL：**

 - ` 106.14.197.175:8080/userlogin `


**请求方式：**

- POST
- form-data


**参数：**


| 参数名 | 说明 | 例子 | 类型 |
| :-- | :-- | :-- | :-- |
| user                  | 用户名（微信id）         | xiaoming | string |
| psw                   | 密码（目前和用户名一样） | xiaoming | string |


 **返回示例**

```
  {
      "token" :  "746018d656cc0f54aab61dbd60ba263c",
      "value" :  1
  }
```


 **返回参数说明**

- 1：登录成功并返回token
- -1：密码错误
- -2：封号
- -101：数据库连接失败
- -102：登录异常
- -103：登录失败（未注册）


**备注**

- token：标识用户身份的字符串，登录失败时候是空的



​    
**简要描述：** 

- 用户购买股票接口

**请求URL：** 

 - ` 106.14.197.175:8080/buy`

**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | 类型   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |
| matchid               | 比赛ID              | 12                               | int    |
| stockid               | 股票代码            | 000581                           | string |
| stocknum              | 买入数量            | 100                              | int    |
| price                 | 买入价格            | 12.23                            | double |

 **返回示例**

``` 
  {
      "value" :  1
  }
```

 **返回参数说明** 

- 1：下单成功
- -1：token错误
- -2：余额不足
- -101：数据库连接失败
- -102：购买异常
- -103：增加订单失败





**简要描述：** 

- 用户出售股票接口

**请求URL：** 

- ` 106.14.197.175:8080/sell`
  
**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | type   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |
| matchid               | 比赛ID              | 12                               | int    |
| stockid               | 股票代码            | 000581                           | string |
| stocknum              | 卖出数量            | 100                              | int    |
| price                 | 卖出价格            | 12.23                            | double |

 **返回示例**

``` 
 {
     "value" :  1
 }
```

 **返回参数说明** 

- 1：下单成功
- -1：token错误
- -2：库存不足
- -101：数据库连接失败
- -102：出售异常
- -103：增加订单失败



​    
**简要描述：** 

- 用户撤销订单接口

**请求URL：** 

- ` 106.14.197.175:8080/rollBackOrder`
  
**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | type   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |
| orderid               | 订单                | 12                               | int    |

 **返回示例**

``` 
  {
      "value" :  1
  }
```

 **返回参数说明** 

- 1：正常
- -1：token错误
- -2：订单id不存在
- -2：订单id已完成或撤回
- -101：数据库连接失败
- -102：sql异常
- -102：更新订单失败


**简要描述：** 

- 用户报名比赛接口

**请求URL：** 

- ` 106.14.197.175:8080/joinMatch`
  
**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | 类型   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |
| matchid               | 比赛                | 1                               | int    |

 **返回示例**

``` 
  {
      "value" :  1
  }
```

 **返回参数说明** 

- 1：正常
- -1：token错误
- -101：数据库连接失败
- -102：sql异常
- -102：更新订单失败
- -3：重复参加比赛
- -4：比赛不存在


**简要描述：** 

- 用户取消报名比赛接口

**请求URL：** 

- ` 106.14.197.175:8080/quitMatch`
  
**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | 类型   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |
| matchid               | 比赛                | 1                               | int    |

 **返回示例**

``` 
  {
      "value" :  1
  }
```

 **返回参数说明** 

- 1：正常
- -1：token错误
- -101：数据库连接失败
- -102：sql异常
- -102：更新订单失败
- -4：比赛不存在
- -5：已退出比赛


**简要描述：** 

- 用户获取比赛列表接口

**请求URL：** 

- ` 106.14.197.175:8080/getMatchList`
  
**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | 类型   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |


 **返回示例**

``` 
  {
      "value" :  1
	   "matchlist" : [
	      	{
			    "id" : 1,
			    "match_name" ："match1"
			},
			{
			    "id" : 2,
			    "match_name" ："match2"
			}
	   ]
  }
```

 **返回参数说明** 

- 1：正常
- -1：token错误
- -101：数据库连接失败
- -102：sql异常
- -102：更新订单失败
- -4：暂无比赛


**简要描述：** 

- 用户获取单个比赛信息接口

**请求URL：** 

- ` 106.14.197.175:8080/getMatchInfo`
  
**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | 类型   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |
| matchid               | 比赛                | 1                               | int    |


 **返回示例**

``` 
  {
      "value" :  1
	   "id" : 1,
	   "match_name" : "match1",
	   "match_detail" : "...",
	   "match_rele" : "rules",
	   "start_time" : 0000000000,
	   "sign_time" : 0000000000,
	   "end_time" : 0000000000,
	   "init_money" : 500000
  }
```

 **返回参数说明** 

- 1：正常
- -1：token错误
- -101：数据库连接失败
- -102：sql异常
- -102：更新订单失败
- -4：比赛不存在


**简要描述：** 

- 用户获取单个比赛排行榜接口

**请求URL：** 

- ` 106.14.197.175:8080/getMatchRank`
  
**请求方式：**

- POST 
- form-data

**参数：** 

| 提交参数 | 说明                | 例子                             | 类型   |
| --------------------- | ------------------- | -------------------------------- | ------ |
| token                 | 登陆时候获取的token | 746018d656cc0f54aab61dbd60ba263c | string |
| matchid               | 比赛                | 1                               | int    |


 **返回示例**

``` 
  {
      "value" :  1
      "ranklist" : [
	       {
              "wxid" : "admin",
              "balance" : 50
	       },
           {
              "wxid" : "a",
              "balance" : 40
           },
           {
              "wxid" : "b",
              "balance" : 30
		   }
	   ]
  }
```

 **返回参数说明** 

- 1：正常
- -1：token错误
- -101：数据库连接失败
- -102：sql异常
- -102：更新订单失败
- -4：比赛不存在
- -6：暂无参赛人员



**简要描述：**


- 获取用户基本信息


**请求URL：**

- ` 106.14.197.175:8080/getUserInfo1`


**请求方式：**

- POST
- form-data


**参数：**


| 参数名 | 说明 | 例子 | 类型 |
| :-- | :-- | :-- | :-- |
| token | 登陆时候获取的token  | 746018d656cc0f54aab61dbd60ba263c | string |


 **返回示例**
```
{
    "heading": "qq.com",
    "inBlackList": "no",
    "nickName": "adc",
    "value": 1,
    "wxid": "admin"
}
```
 **返回参数说明**

- 1：获取用户信息成功
- -1：token错误
- -101：数据库连接失败


**简要描述：**

- 获取用户所有的参赛列表


**请求URL：**

- ` 106.14.197.175:8080/getUserInfo2`


**请求方式：**

- POST
- form-data


**参数：**


| 参数名 | 说明 | 例子 | 类型 |
| :-- | :-- | :-- | :-- |
| token | 登陆时候获取的token  | 746018d656cc0f54aab61dbd60ba263c | string |


 **返回示例**
```
{
    "joinCompititions": [
        {
            "match_id": 1
        }
    ],
    "value": 1,
    "wxid": "admin"
}
```


 **返回参数说明**

- 1：获取用户比赛列表成功
- -1：token错误
- -101：数据库连接失败
- 2该用户没有参加任何比赛




**简要描述：**

- 获取用户关于一个比赛的所有持仓信息


**请求URL：**

- ` 106.14.197.175:8080/getUserInfo3`


**请求方式：**

- POST
- form-data


**参数：**


| 参数名 | 说明 | 例子 | 类型 |
| :-- | :-- | :-- | :-- |
| token | 登陆时候获取的token  | 746018d656cc0f54aab61dbd60ba263c | string |
| matchid| 比赛               | 1                                | int    |


 **返回示例**
```
{
    "matchid": 1,
    "stockInfo": [
        {
            "ave_price": 4.06,
            "lock_num": 0,
            "own_num": 1100,
            "stock_id": "000571"
        },
        {
            "ave_price": 12.3,
            "lock_num": 0,
            "own_num": 1000,
            "stock_id": "000123"
        },
        {
            "ave_price": 71.9,
            "lock_num": 0,
            "own_num": 200,
            "stock_id": "601318"
        }
    ],
    "value": 1,
    "wxid": "admin"
}
```


 **返回参数说明**

- 1：获取用户比赛列表成功
- -1：token错误
- -101：数据库连接失败
- 2没有该用户关于该比赛的持仓信息



**简要描述：**

- 获取一支股票的所有信息


**请求URL：**

- ` 106.14.197.175:8080/getStockInfo`


**请求方式：**

- POST
- form-data


**参数：**


| 参数名 | 说明 | 例子 | 类型 |
| :-- | :-- | :-- | :-- |
| token | 登陆时候获取的token  | 746018d656cc0f54aab61dbd60ba263c | string |
| stockid| 股票               | 1                                | string |


 **返回示例**
```
{
    "stockInfo": {
        "“买一”报价": "9.680",
        "“买一”申请": "6715",
        "“卖一”报价": "9.690",
        "“卖一”申报": "76900",
        "买三报价": "9.660",
        "买三申请": "34700",
        "买二报价": "9.670",
        "买二申请": "8500",
        "买五报价": "9.640",
        "买五申请": "25500",
        "买四报价": "9.650",
        "买四申请": "59000",
        "今日开盘价": "9.680",
        "今日最低价": "9.680",
        "今日最高价": "9.680",
        "卖三报价": "9.710",
        "卖三申报": "40500",
        "卖二报价": "9.700",
        "卖二申报": "256600",
        "卖五报价": "9.730",
        "卖五申报": "208200",
        "卖四报价": "9.720",
        "卖四申报": "7100",
        "当前价格": "9.680",
        "成交的股票数": "328085",
        "成交金额": "3175862.800",
        "日期": "2018-12-21",
        "时间": "09:26:03",
        "昨日开盘价": "9.710",
        "竞买价": "9.680",
        "竞卖价": "9.690",
        "股票名字": "平安银行"
    },
    "value": 1
}
```


 **返回参数说明**

- 1：获取用户比赛列表成功
- -1：token错误
- -101：数据库连接失败



**简要描述：**

- 获取用户特定类型特定状态特定时间的订单


**请求URL：**

- ` 106.14.197.175:8080/getUserOrder`


**请求方式：**

- POST
- form-data


**参数：**


| 参数名 | 说明 | 例子 | 类型 |
| :-- | :-- | :-- | :-- |
| token | 登陆时候获取的token  | 746018d656cc0f54aab61dbd60ba263c | string |
| ordertype | 订单类型  | 2 | string |
| startTime | 开始时间  | 1545138200 | string |
| endTime | 结束时间  | 1545138300 | string |
| orderStatus | 订单状态 | 2 | string |


 **返回示例**
```
{
    "orderInfo": [
        {
            "id": 1,
            "create_time": 1545138256,
            "match_id": 1,
            "order_num": 100,
            "order_status": "完成",
            "order_type": "卖出",
            "price": 50,
            "stock_id": "601318"
        }
    ],
    "value": 1,
    "wxid": "admin"
}
```


 **返回参数说明**

- 1：获取用户比赛列表成功
- -1：token错误
- -101：数据库连接失败




